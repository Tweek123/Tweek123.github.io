(this["webpackJsonpapp-request"]=this["webpackJsonpapp-request"]||[]).push([[0],{25:function(e,t,r){e.exports=r(37)},30:function(e,t,r){},37:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(14),s=r.n(c),o=(r(30),r(16)),u=r(8),l=function(e){return{type:"ADD_REQUEST_IN_HISTORY",request:e}},i=function(e){return{type:"ADD_REQUEST_IN_STACK",request:e}},m=function(e){return{type:"LOAD_WEBSOCKET_MESSAGE",message:e}},d=function(e){return{type:"LOAD_WEBSOCKET",websocket:e}},b=function(e){return{type:"STACK_RUN",run:e}};function f(){var e=Object(u.b)(),t=Object(a.useState)(!1),r=Object(o.a)(t,2),c=r[0],s=r[1];return n.a.createElement("form",{name:"addRequest",className:"form",onSubmit:function(t){t.preventDefault();var r={url:t.target.url.value,type:t.target.type.value,data:t.target.data.value?JSON.parse(t.target.data.value):null};e(i(r))}},n.a.createElement("h2",null,"Reqeusts"),n.a.createElement("div",{className:"form__item"},n.a.createElement("input",{className:"form__input-text",type:"text",placeholder:"URL",name:"url"})),n.a.createElement("label",{className:"form__item"},"GET",n.a.createElement("input",{value:"GET",id:"GET",type:"radio",name:"type",defaultChecked:!0,onChange:function(){return s(!1)}})),n.a.createElement("label",{className:"form__item"},"POST",n.a.createElement("input",{type:"radio",value:"POST",id:"POST",name:"type",onChange:function(){return s(!0)}})),n.a.createElement("label",{className:"form__item"},"PUT",n.a.createElement("input",{type:"radio",value:"PUT",id:"PUT",name:"type",onChange:function(){return s(!0)}})),n.a.createElement("label",{className:"form__item"},"DELETE",n.a.createElement("input",{type:"radio",value:"DELETE",id:"DELETE",name:"type",onChange:function(){return s(!0)}})),n.a.createElement("div",{className:"form__item"},n.a.createElement("input",{type:"text",placeholder:"data",name:"data",className:c?"":"hidden"})),n.a.createElement("div",{className:"form__item"},n.a.createElement("button",{className:"form__button",type:"submit"},"send")))}function p(){var e=Object(u.b)();return n.a.createElement("form",{name:"websocket",className:"form",onSubmit:function(t){t.preventDefault(),e({type:"CONNECT_WEBSOCKET",url:t.target.url.value})}},n.a.createElement("h2",null,"Websocket"),n.a.createElement("div",{className:"form__item"},n.a.createElement("input",{type:"text",className:"form__input-text",placeholder:"URL",name:"url"})),n.a.createElement("div",{className:"form__item"},n.a.createElement("button",{className:"form__button",type:"submit"},"connect")))}var E=r(24),h=function(e){var t=[];for(var r in e)t.push(n.a.createElement("div",{className:"dict-element",key:r},r," : ",String(e[r])));return t},_=function(e){var t,r={headers:{},status:e.status},a=Object(E.a)(e.headers.entries());try{for(a.s();!(t=a.n()).done;){var n=Object(o.a)(t.value,2),c=n[0],s=n[1];r.headers[c]=s}}catch(u){a.e(u)}finally{a.f()}return r},O=function(){var e=Object(u.c)((function(e){return e.requestReducer.history})),t=Object(u.b)();Object(a.useEffect)((function(){t({type:"LOAD_HISTORY"})}),e);var r=function(e,t){return n.a.createElement("tr",{className:"table__row",key:t},n.a.createElement("td",{className:"table__col"},e.request.url),n.a.createElement("td",{className:"table__col"},e.request.method),n.a.createElement("td",{className:"table__col"},h(e.request.headers)),n.a.createElement("td",{className:"table__col"},e.request.body?e.request.body:"not send"),n.a.createElement("td",{className:"table__col"},e.response.status),n.a.createElement("td",{className:"table__col"},h(e.response.headers)),n.a.createElement("td",{className:"table__col"},e.response.body?JSON.stringify(e.response.body):"not send"),n.a.createElement("td",{className:"table__col"},String(new Date(e.date))),n.a.createElement("td",{className:"table__col"},n.a.createElement("button",{className:"table__button",type:"submit",onClick:c,index:t},"send")))},c=function(r){var a=r.target.attributes.index.value,n=e[a].request,c={url:n.url,type:n.method,data:n.body?JSON.parse(n.body):null};t(i(c))};return n.a.createElement("table",{className:"table"},n.a.createElement("tbody",null,n.a.createElement("tr",{className:"table__header"},n.a.createElement("th",{className:"table__header-col"},"URL"),n.a.createElement("th",{className:"table__header-col"},"method"),n.a.createElement("th",{className:"table__header-col"},"request headers"),n.a.createElement("th",{className:"table__header-col"},"request body"),n.a.createElement("th",{className:"table__header-col"},"response status"),n.a.createElement("th",{className:"table__header-col"},"response headers"),n.a.createElement("th",{className:"table__header-col"},"response body"),n.a.createElement("th",{className:"table__header-col"},"date"),n.a.createElement("th",{className:"table__header-col"},"send request")),function(e){return e.map((function(e,t){return r(e,t)}))}(e)))},y=function(){var e=Object(u.c)((function(e){return e.websocketReducer.messages}));return n.a.createElement("div",{className:"messages"},n.a.createElement("h2",null,"Messages Log"),function(e){return e.map((function(e){return n.a.createElement("div",{className:"messages__item"},h(e))}))}(e))};function v(){return n.a.createElement("div",null,n.a.createElement(f,null),n.a.createElement(p,null),n.a.createElement(O,null),n.a.createElement(y,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=r(10),j=r(13),S=r(5),T={history:[],stack:[],stackRun:!1};var g={messages:[],websocket:null};var w=r(17),k=r(7),x=r.n(k),C=r(4);r(22);function D(e){var t={method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},r=Object(S.a)({url:e},t),a={request:r,response:{}};return fetch(r.url,t).then((function(e){return a.response=_(e),e.json()})).then((function(e){return a.response.body=e,a}))}function q(e,t){var r={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)},a=Object(S.a)({url:e},r),n={request:a,response:{}};return fetch(a.url,r).then((function(e){return n.response=_(e),e.json()})).then((function(e){return n.response.body=e,n}))}function R(e,t){var r={method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)},a=Object(S.a)({url:e},r),n={request:a,response:{}};return fetch(a.url,r).then((function(e){return n.response=_(e),e.json()})).then((function(e){return n.response.body=e,n}))}function A(e,t){var r={method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)},a=Object(S.a)({url:e},r),n={request:a,response:{}};return fetch(a.url,r).then((function(e){return n.response=_(e),e.json()})).then((function(e){return n.response.body=e,n}))}var I=x.a.mark(J),K=x.a.mark(G),L=x.a.mark(H),U=x.a.mark(Q),P=x.a.mark(M),W=x.a.mark($),B=x.a.mark(z);function J(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)("ADD_REQUEST_IN_STACK",H);case 2:case"end":return e.stop()}}),I)}function G(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)("CONNECT_WEBSOCKET",$);case 2:case"end":return e.stop()}}),K)}function H(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)((function(e){return e.requestReducer.stackRun}));case 2:if(e.sent){e.next=8;break}return e.next=6,Object(C.c)(b(!0));case 6:return e.next=8,Q();case 8:case"end":return e.stop()}}),L)}function Q(){var e,t;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(C.d)((function(e){return e.requestReducer.stack}));case 2:return e=r.sent,t=e[0],r.next=6,Object(C.c)({type:"SHIFT_STACK"});case 6:return r.next=8,M(t);case 8:return r.next=10,Object(C.d)((function(e){return e.requestReducer.stack}));case 10:if(!(e=r.sent).length){r.next=16;break}return r.next=14,Q();case 14:r.next=18;break;case 16:return r.next=18,Object(C.c)(b(!1));case 18:case"end":return r.stop()}}),U)}function M(e){var t;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Y(e.type,e.url,e.data);case 3:return(t=r.sent).date=Date.now(),r.next=7,Object(C.c)(l(t));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.error(r.t0);case 12:case"end":return r.stop()}}),P,null,[[0,9]])}function Y(e,t,r){switch(e){case"GET":return Object(C.b)(D,t,r);case"POST":return Object(C.b)(q,t,r);case"PUT":return Object(C.b)(R,t,r);case"DELETE":return Object(C.b)(A,t,r);default:return null}}function F(e){return Object(w.b)((function(t){return e.onmessage=function(e){t(JSON.parse(e.data))},function(){e.close()}}))}function $(e){var t,r,a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.c)({type:"DISCONNECT_WEBSOCKET"});case 3:return t=new WebSocket(e.url),n.next=6,Object(C.c)(d(t));case 6:return n.next=8,Object(C.b)(F,t);case 8:r=n.sent;case 9:return n.next=12,Object(C.e)(r);case 12:return a=n.sent,n.next=15,Object(C.c)(m(a));case 15:n.next=9;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),console.error(n.t0);case 22:case"end":return n.stop()}}),W,null,[[0,19]])}function z(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([J(),G()]);case 2:case"end":return e.stop()}}),B)}var V=Object(N.c)({requestReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_REQUEST_IN_HISTORY":return e.history.push(t.request),localStorage.setItem("history",JSON.stringify(e.history)),Object(S.a)(Object(S.a)({},e),{},{history:Object(j.a)(e.history)});case"ADD_REQUEST_IN_STACK":return e.stack.push(t.request),Object(S.a)({},e);case"LOAD_HISTORY":return e.history=JSON.parse(localStorage.getItem("history")),e.history||(e.history=[]),Object(S.a)(Object(S.a)({},e),{},{history:Object(j.a)(e.history)});case"SHIFT_STACK":return console.log("??"),e.stack.shift(),Object(S.a)({},e);case"STACK_RUN":return e.stackRun=t.run,Object(S.a)({},e);default:return e}},websocketReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONNECT_WEBSOCKET":return Object(S.a)({},e);case"LOAD_WEBSOCKET_MESSAGE":return e.messages.push(t.message),Object(S.a)(Object(S.a)({},e),{},{messages:Object(j.a)(e.messages)});case"LOAD_WEBSOCKET":return e.websocket=t.websocket,Object(S.a)({},e);case"DISCONNECT_WEBSOCKET":return e.websocket&&e.websocket.close(),Object(S.a)({},e);default:return e}}}),X=Object(w.a)(),Z=Object(N.e)(V,Object(N.a)(X));X.run(z);var ee=Z;s.a.render(n.a.createElement(u.a,{store:ee},n.a.createElement(n.a.StrictMode,null,n.a.createElement(v,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.aeea53be.chunk.js.map